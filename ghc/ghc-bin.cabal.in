Name: ghc-bin
Version: @ProjectVersion@
Copyright: XXX
-- License: XXX
-- License-File: XXX
Author: XXX
Maintainer: glasgow-haskell-users@haskell.org
Homepage: http://www.haskell.org/ghc/
Synopsis: XXX
Description:
        XXX
Category: XXX
Data-Dir: ..
Data-Files: extra-gcc-opts
Build-Type: Simple
Cabal-Version: >= 1.2

Flag base4
    Description: Choose the even newer, even smaller, split-up base package.

Flag base3
    Description: Choose the new smaller, split-up base package.

Flag ghci
    Description: Build GHCi support.

Executable ghc
    Main-Is: Main.hs

    if flag(base4)
        Build-Depends: base       >= 4   && < 5
    if flag(base3)
        Build-Depends: base       >= 3   && < 4
    if !flag(base3) && !flag(base4)
        Build-Depends: base       < 3

    if flag(base3) || flag(base4)
        Build-Depends: array      >= 0.1 && < 0.3,
                       bytestring >= 0.9 && < 0.10,
                       directory  >= 1   && < 1.1,
                       process    >= 1   && < 1.1

    Build-Depends: base, ghc
    Build-Depends: filepath >= 1 && < 1.2

    if os(windows)
        Build-Depends: Win32
    else
        Build-Depends: unix

    GHC-Options: -Wall
    GHC-Options: -fno-warn-name-shadowing
    if flag(ghci)
        CPP-Options: -DGHCI
        Other-Modules: InteractiveUI, GhciMonad, GhciTags
        Build-Depends: ghc-mtl, haskeline
        Extensions: ForeignFunctionInterface,
                    UnboxedTuples,
                    FlexibleInstances

    Extensions: CPP, PatternGuards, MagicHash

